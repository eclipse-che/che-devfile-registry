---
apiVersion: 1.0.0
metadata:
  name: php-web-simple
projects:
-
    name: php-web-simple
    source:
        type: git
        location: "https://github.com/che-samples/web-php-simple"
components:
-
  type: chePlugin
  id: redhat/php/latest
  memoryLimit: 1Gi
-
  type: chePlugin
  id: redhat/php-debugger/latest
  memoryLimit: 256Mi
-
  type: dockerimage
  alias: php
  image: eclipse/php:7.1-che7
  env:
    - name: HOME
      value: /home/user
    - name: PS1
      value: $(echo ${0})\\$
  memoryLimit: 512Mi
  mountSources: true
  volumes:
    - name: composer
      containerPath: "/home/user/.composer"
    - name: symfony
      containerPath: "/home/user/.symfony"
commands:
-
    name: Start Apache Web Server
    actions:
    - type: exec
      component: php
      command: "service apache2 start"
-
    name: Stop Apache Web Server
    actions:
    - type: exec
      component: php
      command: "service apache2 stop"
